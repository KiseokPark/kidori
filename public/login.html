<!DOCTYPE HTML>

<html>
	<head>
		<title>Smart Contract</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
		<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,500,700,900|RobotoDraft:400,100,300,500,700,900'>
		<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css'>
		<link rel="stylesheet" href="assets/css/loginStyle.css">
	</head>
	<script src="assets/js/jquery.min.js"></script>
	<script>
	//윈도우 로드시
	$(document).ready(function(){

		function getQueryParam(param) {
			var result = window.location.search.match(
			new RegExp("(\\?|&)" + param + "(\\[\\])?=([^&]*)")
		);
			return result ? result[3] : false;
		}

		if(getQueryParam('error')=='true'){
			alert('ID or Password Error !!');
		}

		// go 클릭시
/*
		$('#s_insert').click(function(){
			$.ajax({
				method:"POST",
				url:'/userCheck', //가져오고자하는 서버페이지 주소를 넣는다.
				type:'post', //데이터를 서버로 전송하게 된다.
				async:false,
				data:{
							 id: $('#s_id').val(),  //에디터박스의 아이디를 넣으면 해당 에디터박스의 데이터를 보내준다.
							 password: $('#s_password').val()
				} ,
				success : function(req){
									alert(req.result);
									//alert(req.session.user_id);

				} ,
				error : function(){
									alert('login userCheck ajax Error!!');
				}
			});
		});
*/

		$('#s_insert').click(function(){
			$('#userForm').submit();

		});

		// sign up 클릭시
		$('#reg_insert').click(function(){
			if( $('#reg_password1').val() ==  $('#reg_password2').val() && $('#reg_id').val()!='' && $('#reg_email').val()!=''){

				$.ajax({
					method:"POST",
					url:'/userReg', //가져오고자하는 서버페이지 주소를 넣는다.
					type:'post', //데이터를 서버로 전송하게 된다.
					async:false,
					data:{
								 id: $('#reg_id').val(),  //에디터박스의 아이디를 넣으면 해당 에디터박스의 데이터를 보내준다.
								 password: $('#reg_password1').val()
					} ,
					success : function(req){
													alert(req.result);

					} ,
					error : function(){
										alert('login userCheck ajax Error!!');
					}
				});

			}else{
				alert('입력오류');
			}
		});



	});
</script>
<body>
<!-- login test-->
<div class="pen-title">
  <span>Made <i class='fa fa-code'></i> by <a>KIDORI</a></span>
</div>
<div class="rerun"><a href="">Rerun Pen</a></div>
<div class="container">
  <div class="card"></div>
  <div class="card">
    <h1 class="title">Login</h1>
    <form id="userForm" method="post" action="/userCheck">
      <div class="input-container">
        <input type="#{type}" id="s_id" name="s_id" required="required"/>
        <label for="#{label}">ID</label>
        <div class="bar"></div>
      </div>
      <div class="input-container">
        <input type="password" id="s_password" name="s_password" required="required"/>
        <label for="#{label}">Password</label>
        <div class="bar"></div>
      </div>
      <div class="button-container">
        <button id="s_insert"><span>Go</span></button>
      </div>
      <div class="footer"><a href="#">Forgot your password?</a></div>
    </form>
  </div>
  <div class="card alt">
    <div class="toggle"></div>
    <h1 class="title">Register
      <div class="close"></div>
    </h1>
    <form>
      <div class="input-container">
        <input type="#{type}" id="reg_id" required="required"/>
        <label for="#{label}">ID</label>
        <div class="bar"></div>
      </div>
      <div class="input-container">
        <input type="#{type}" id="reg_password1" required="required"/>
        <label for="#{label}">Password</label>
        <div class="bar"></div>
      </div>
      <div class="input-container">
        <input type="#{type}" id="reg_password2" required="required"/>
        <label for="#{label}">Repeat Password</label>
        <div class="bar"></div>
      </div>

      <div class="button-container">
        <button id="reg_insert"><span>Sign up</span></button>
      </div>
    </form>
  </div>
</div>

		<!-- Scripts -->
		  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
		  <script  src="assets/js/loginForm.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>

	</body>
</html>
